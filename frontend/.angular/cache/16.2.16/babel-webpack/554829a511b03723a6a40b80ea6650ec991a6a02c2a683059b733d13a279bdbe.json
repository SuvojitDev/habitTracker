{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../core/services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/components/loader.component\";\nfunction AdminPanelComponent_div_0_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelement(1, \"app-loader\", 19);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminPanelComponent_div_0_div_22_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 30)(2, \"div\", 31);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 32);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\", 33);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 30)(9, \"input\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminPanelComponent_div_0_div_22_tr_13_Template_input_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const user_r5 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(user_r5.totalXP = $event);\n    })(\"blur\", function AdminPanelComponent_div_0_div_22_tr_13_Template_input_blur_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const user_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.updateUserXP(user_r5._id, user_r5.totalXP));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\", 35)(11, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AdminPanelComponent_div_0_div_22_tr_13_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const user_r5 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.deleteUser(user_r5._id));\n    });\n    i0.ɵɵtext(12, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r5 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r5.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r5.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r5.level);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", user_r5.totalXP);\n  }\n}\nfunction AdminPanelComponent_div_0_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"table\", 21)(2, \"thead\", 22)(3, \"tr\")(4, \"th\", 23);\n    i0.ɵɵtext(5, \"User\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 23);\n    i0.ɵɵtext(7, \"Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 23);\n    i0.ɵɵtext(9, \"XP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 23);\n    i0.ɵɵtext(11, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\", 24);\n    i0.ɵɵtemplate(13, AdminPanelComponent_div_0_div_22_tr_13_Template, 13, 4, \"tr\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 26)(15, \"span\", 27);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 28)(18, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AdminPanelComponent_div_0_div_22_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.changePage(ctx_r10.currentPage - 1));\n    });\n    i0.ɵɵtext(19, \" Previous \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AdminPanelComponent_div_0_div_22_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.changePage(ctx_r12.currentPage + 1));\n    });\n    i0.ɵɵtext(21, \" Next \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.users);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" Page \", ctx_r3.currentPage, \" of \", ctx_r3.totalPages, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.currentPage === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.currentPage === ctx_r3.totalPages);\n  }\n}\nfunction AdminPanelComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"h1\", 4);\n    i0.ɵɵtext(3, \"\\uD83D\\uDD10 Admin Panel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5)(5, \"div\", 6)(6, \"h2\", 7);\n    i0.ɵɵtext(7, \"System Stats\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8)(9, \"p\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 9);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11)(15, \"h2\", 12);\n    i0.ɵɵtext(16, \"Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 13)(18, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminPanelComponent_div_0_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.searchTerm = $event);\n    })(\"input\", function AdminPanelComponent_div_0_Template_input_input_18_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.loadUsers());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AdminPanelComponent_div_0_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.clearAllData());\n    });\n    i0.ɵɵtext(20, \" Clear All Data \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(21, AdminPanelComponent_div_0_div_21_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtemplate(22, AdminPanelComponent_div_0_div_22_Template, 22, 5, \"div\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"Total Users: \", (ctx_r0.stats == null ? null : ctx_r0.stats.userCount) || 0, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total Habits: \", (ctx_r0.stats == null ? null : ctx_r0.stats.habitCount) || 0, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.searchTerm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.loading);\n  }\n}\nfunction AdminPanelComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38)(2, \"h1\", 39);\n    i0.ɵɵtext(3, \"Access Denied\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 9);\n    i0.ɵɵtext(5, \"Admin access required\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class AdminPanelComponent {\n  constructor(http, authService) {\n    this.http = http;\n    this.authService = authService;\n    this.isAdmin = false;\n    this.users = [];\n    this.stats = null;\n    this.loading = false;\n    this.searchTerm = '';\n    this.currentPage = 1;\n    this.totalPages = 1;\n  }\n  ngOnInit() {\n    const user = this.authService.getCurrentUser();\n    this.isAdmin = user?.isAdmin || false;\n    if (this.isAdmin) {\n      this.loadStats();\n      this.loadUsers();\n    }\n  }\n  loadStats() {\n    this.http.get('http://localhost:3000/api/admin/stats').subscribe(stats => {\n      this.stats = stats;\n    });\n  }\n  loadUsers() {\n    this.loading = true;\n    this.http.get(`http://localhost:3000/api/admin/users?page=${this.currentPage}&search=${this.searchTerm}`).subscribe(response => {\n      this.users = response.users;\n      this.totalPages = response.pagination.pages;\n      this.loading = false;\n    });\n  }\n  changePage(page) {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n      this.loadUsers();\n    }\n  }\n  updateUserXP(userId, totalXP) {\n    this.http.put(`http://localhost:3000/api/admin/users/${userId}/xp`, {\n      totalXP\n    }).subscribe();\n  }\n  deleteUser(userId) {\n    if (confirm('Delete this user?')) {\n      this.http.delete(`http://localhost:3000/api/admin/users/${userId}`).subscribe(() => {\n        this.loadUsers();\n        this.loadStats();\n      });\n    }\n  }\n  clearAllData() {\n    if (confirm('⚠️ This will delete ALL user data. Continue?')) {\n      this.http.delete('http://localhost:3000/api/admin/clear-all').subscribe(() => {\n        this.loadUsers();\n        this.loadStats();\n      });\n    }\n  }\n  static {\n    this.ɵfac = function AdminPanelComponent_Factory(t) {\n      return new (t || AdminPanelComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminPanelComponent,\n      selectors: [[\"app-admin-panel\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[\"class\", \"min-h-screen bg-gray-50 dark:bg-gray-900\", 4, \"ngIf\"], [\"class\", \"min-h-screen flex items-center justify-center\", 4, \"ngIf\"], [1, \"min-h-screen\", \"bg-gray-50\", \"dark:bg-gray-900\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"py-8\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-900\", \"dark:text-white\", \"mb-8\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\", \"mb-8\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"rounded-xl\", \"p-6\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\", \"dark:text-white\", \"mb-4\"], [1, \"space-y-2\"], [1, \"text-gray-600\", \"dark:text-gray-300\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"rounded-xl\", \"shadow-sm\", \"p-6\", \"mb-6\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-4\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\", \"dark:text-white\"], [1, \"flex\", \"space-x-4\"], [\"placeholder\", \"Search users...\", 1, \"px-4\", \"py-2\", \"border\", \"border-gray-300\", \"dark:border-gray-600\", \"rounded-lg\", \"bg-white\", \"dark:bg-gray-700\", \"text-gray-900\", \"dark:text-white\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"bg-red-500\", \"hover:bg-red-600\", \"text-white\", \"px-4\", \"py-2\", \"rounded-lg\", 3, \"click\"], [\"class\", \"text-center py-8\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto\", 4, \"ngIf\"], [1, \"text-center\", \"py-8\"], [\"text\", \"Loading users...\"], [1, \"overflow-x-auto\"], [1, \"min-w-full\", \"divide-y\", \"divide-gray-200\", \"dark:divide-gray-700\"], [1, \"bg-gray-50\", \"dark:bg-gray-700\"], [1, \"px-6\", \"py-3\", \"text-left\", \"text-xs\", \"font-medium\", \"text-gray-500\", \"dark:text-gray-300\", \"uppercase\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"divide-y\", \"divide-gray-200\", \"dark:divide-gray-700\"], [4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mt-4\"], [1, \"text-sm\", \"text-gray-700\", \"dark:text-gray-300\"], [1, \"flex\", \"space-x-2\"], [1, \"px-3\", \"py-2\", \"border\", \"rounded-lg\", \"disabled:opacity-50\", \"bg-white\", \"dark:bg-gray-700\", \"text-gray-900\", \"dark:text-white\", 3, \"disabled\", \"click\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\"], [1, \"text-sm\", \"font-medium\", \"text-gray-900\", \"dark:text-white\"], [1, \"text-sm\", \"text-gray-500\", \"dark:text-gray-400\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"text-gray-900\", \"dark:text-white\"], [\"type\", \"number\", 1, \"w-20\", \"px-2\", \"py-1\", \"border\", \"border-gray-300\", \"dark:border-gray-600\", \"rounded\", \"text-sm\", \"bg-white\", \"dark:bg-gray-700\", \"text-gray-900\", \"dark:text-white\", 3, \"ngModel\", \"ngModelChange\", \"blur\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\"], [1, \"text-red-600\", \"hover:text-red-900\", \"dark:text-red-400\", 3, \"click\"], [1, \"min-h-screen\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-center\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-900\", \"dark:text-white\", \"mb-4\"]],\n      template: function AdminPanelComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, AdminPanelComponent_div_0_Template, 23, 5, \"div\", 0);\n          i0.ɵɵtemplate(1, AdminPanelComponent_div_1_Template, 6, 0, \"div\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isAdmin);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel, i5.LoaderComponent],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","AdminPanelComponent_div_0_div_22_tr_13_Template_input_ngModelChange_9_listener","$event","restoredCtx","ɵɵrestoreView","_r7","user_r5","$implicit","ɵɵresetView","totalXP","AdminPanelComponent_div_0_div_22_tr_13_Template_input_blur_9_listener","ctx_r8","ɵɵnextContext","updateUserXP","_id","AdminPanelComponent_div_0_div_22_tr_13_Template_button_click_11_listener","ctx_r9","deleteUser","ɵɵadvance","ɵɵtextInterpolate","username","email","level","ɵɵproperty","ɵɵtemplate","AdminPanelComponent_div_0_div_22_tr_13_Template","AdminPanelComponent_div_0_div_22_Template_button_click_18_listener","_r11","ctx_r10","changePage","currentPage","AdminPanelComponent_div_0_div_22_Template_button_click_20_listener","ctx_r12","ctx_r3","users","ɵɵtextInterpolate2","totalPages","AdminPanelComponent_div_0_Template_input_ngModelChange_18_listener","_r14","ctx_r13","searchTerm","AdminPanelComponent_div_0_Template_input_input_18_listener","ctx_r15","loadUsers","AdminPanelComponent_div_0_Template_button_click_19_listener","ctx_r16","clearAllData","AdminPanelComponent_div_0_div_21_Template","AdminPanelComponent_div_0_div_22_Template","ɵɵtextInterpolate1","ctx_r0","stats","userCount","habitCount","loading","AdminPanelComponent","constructor","http","authService","isAdmin","ngOnInit","user","getCurrentUser","loadStats","get","subscribe","response","pagination","pages","page","userId","put","confirm","delete","ɵɵdirectiveInject","i1","HttpClient","i2","AuthService","selectors","decls","vars","consts","template","AdminPanelComponent_Template","rf","ctx","AdminPanelComponent_div_0_Template","AdminPanelComponent_div_1_Template"],"sources":["C:\\Users\\Suvojit\\OneDrive\\Desktop\\angular projects\\habittracker\\frontend\\src\\app\\features\\admin\\admin-panel.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from '../../core/services/auth.service';\n\n@Component({\n  selector: 'app-admin-panel',\n  template: `\n    <div *ngIf=\"isAdmin\" class=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <div class=\"max-w-7xl mx-auto px-4 py-8\">\n        <h1 class=\"text-3xl font-bold text-gray-900 dark:text-white mb-8\">🔐 Admin Panel</h1>\n        \n        <!-- Stats -->\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n          <div class=\"bg-white dark:bg-gray-800 rounded-xl p-6\">\n            <h2 class=\"text-xl font-bold text-gray-900 dark:text-white mb-4\">System Stats</h2>\n            <div class=\"space-y-2\">\n              <p class=\"text-gray-600 dark:text-gray-300\">Total Users: {{ stats?.userCount || 0 }}</p>\n              <p class=\"text-gray-600 dark:text-gray-300\">Total Habits: {{ stats?.habitCount || 0 }}</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Users Table -->\n        <div class=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-6\">\n          <div class=\"flex justify-between items-center mb-4\">\n            <h2 class=\"text-xl font-bold text-gray-900 dark:text-white\">Users</h2>\n            <div class=\"flex space-x-4\">\n              <input\n                [(ngModel)]=\"searchTerm\"\n                (input)=\"loadUsers()\"\n                placeholder=\"Search users...\"\n                class=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n              >\n              <button\n                (click)=\"clearAllData()\"\n                class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg\"\n              >\n                Clear All Data\n              </button>\n            </div>\n          </div>\n\n          <div *ngIf=\"loading\" class=\"text-center py-8\">\n            <app-loader text=\"Loading users...\"></app-loader>\n          </div>\n\n          <div *ngIf=\"!loading\" class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n              <thead class=\"bg-gray-50 dark:bg-gray-700\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase\">User</th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase\">Level</th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase\">XP</th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase\">Actions</th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                <tr *ngFor=\"let user of users\">\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm font-medium text-gray-900 dark:text-white\">{{ user.username }}</div>\n                    <div class=\"text-sm text-gray-500 dark:text-gray-400\">{{ user.email }}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">{{ user.level }}</td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <input\n                      [(ngModel)]=\"user.totalXP\"\n                      (blur)=\"updateUserXP(user._id, user.totalXP)\"\n                      type=\"number\"\n                      class=\"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                    >\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm\">\n                    <button\n                      (click)=\"deleteUser(user._id)\"\n                      class=\"text-red-600 hover:text-red-900 dark:text-red-400\"\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <!-- Pagination -->\n            <div class=\"flex justify-between items-center mt-4\">\n              <span class=\"text-sm text-gray-700 dark:text-gray-300\">\n                Page {{ currentPage }} of {{ totalPages }}\n              </span>\n              <div class=\"flex space-x-2\">\n                <button\n                  (click)=\"changePage(currentPage - 1)\"\n                  [disabled]=\"currentPage === 1\"\n                  class=\"px-3 py-2 border rounded-lg disabled:opacity-50 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                >\n                  Previous\n                </button>\n                <button\n                  (click)=\"changePage(currentPage + 1)\"\n                  [disabled]=\"currentPage === totalPages\"\n                  class=\"px-3 py-2 border rounded-lg disabled:opacity-50 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div *ngIf=\"!isAdmin\" class=\"min-h-screen flex items-center justify-center\">\n      <div class=\"text-center\">\n        <h1 class=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Access Denied</h1>\n        <p class=\"text-gray-600 dark:text-gray-300\">Admin access required</p>\n      </div>\n    </div>\n  `\n})\nexport class AdminPanelComponent implements OnInit {\n  isAdmin = false;\n  users: any[] = [];\n  stats: any = null;\n  loading = false;\n  searchTerm = '';\n  currentPage = 1;\n  totalPages = 1;\n\n  constructor(\n    private http: HttpClient,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit(): void {\n    const user = this.authService.getCurrentUser();\n    this.isAdmin = user?.isAdmin || false;\n    \n    if (this.isAdmin) {\n      this.loadStats();\n      this.loadUsers();\n    }\n  }\n\n  loadStats(): void {\n    this.http.get('http://localhost:3000/api/admin/stats').subscribe(stats => {\n      this.stats = stats;\n    });\n  }\n\n  loadUsers(): void {\n    this.loading = true;\n    this.http.get(`http://localhost:3000/api/admin/users?page=${this.currentPage}&search=${this.searchTerm}`)\n      .subscribe((response: any) => {\n        this.users = response.users;\n        this.totalPages = response.pagination.pages;\n        this.loading = false;\n      });\n  }\n\n  changePage(page: number): void {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n      this.loadUsers();\n    }\n  }\n\n  updateUserXP(userId: string, totalXP: number): void {\n    this.http.put(`http://localhost:3000/api/admin/users/${userId}/xp`, { totalXP }).subscribe();\n  }\n\n  deleteUser(userId: string): void {\n    if (confirm('Delete this user?')) {\n      this.http.delete(`http://localhost:3000/api/admin/users/${userId}`).subscribe(() => {\n        this.loadUsers();\n        this.loadStats();\n      });\n    }\n  }\n\n  clearAllData(): void {\n    if (confirm('⚠️ This will delete ALL user data. Continue?')) {\n      this.http.delete('http://localhost:3000/api/admin/clear-all').subscribe(() => {\n        this.loadUsers();\n        this.loadStats();\n      });\n    }\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}