{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/social.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction SocialComponent_div_16_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"span\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function SocialComponent_div_16_div_4_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const request_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.respondToRequest(request_r4._id, \"accept\"));\n    });\n    i0.ɵɵtext(5, \" Accept \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function SocialComponent_div_16_div_4_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const request_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.respondToRequest(request_r4._id, \"reject\"));\n    });\n    i0.ɵɵtext(7, \" Decline \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const request_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(request_r4.from.username);\n  }\n}\nfunction SocialComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"h3\", 31);\n    i0.ɵɵtext(2, \"Friend Requests\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 32);\n    i0.ɵɵtemplate(4, SocialComponent_div_16_div_4_Template, 8, 1, \"div\", 33);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pendingRequests);\n  }\n}\nfunction SocialComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"div\", 39)(2, \"div\", 40);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\")(5, \"p\", 41);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 42);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 43);\n    i0.ɵɵtext(10, \"\\uD83D\\uDC4B\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const friend_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", friend_r8.username.charAt(0).toUpperCase(), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(friend_r8.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Level \", friend_r8.level, \" \\u2022 \", friend_r8.totalXP, \" XP\");\n  }\n}\nfunction SocialComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 26);\n    i0.ɵɵtext(2, \"\\uD83D\\uDC65\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 27);\n    i0.ɵɵtext(4, \"No friends yet. Add some friends to get started!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let SocialComponent = /*#__PURE__*/(() => {\n  class SocialComponent {\n    constructor(socialService, fb) {\n      this.socialService = socialService;\n      this.fb = fb;\n      this.friends = [];\n      this.pendingRequests = [];\n      this.friendForm = this.fb.group({\n        username: ['', Validators.required]\n      });\n      this.groupForm = this.fb.group({\n        name: ['', Validators.required],\n        description: ['']\n      });\n      this.joinForm = this.fb.group({\n        inviteCode: ['', Validators.required]\n      });\n    }\n    ngOnInit() {\n      this.loadFriends();\n    }\n    loadFriends() {\n      this.socialService.getFriends().subscribe(data => {\n        this.friends = data.friends;\n        this.pendingRequests = data.pendingRequests;\n      });\n    }\n    sendFriendRequest() {\n      if (this.friendForm.valid) {\n        const username = this.friendForm.get('username')?.value;\n        this.socialService.sendFriendRequest(username).subscribe(() => {\n          this.friendForm.reset();\n          this.loadFriends();\n        });\n      }\n    }\n    respondToRequest(requestId, action) {\n      this.socialService.respondToFriendRequest(requestId, action).subscribe(() => {\n        this.loadFriends();\n      });\n    }\n    createGroup() {\n      if (this.groupForm.valid) {\n        const {\n          name,\n          description\n        } = this.groupForm.value;\n        this.socialService.createHabitGroup(name, description, false).subscribe(() => {\n          this.groupForm.reset();\n        });\n      }\n    }\n    joinGroup() {\n      if (this.joinForm.valid) {\n        const inviteCode = this.joinForm.get('inviteCode')?.value;\n        this.socialService.joinHabitGroup(inviteCode).subscribe(() => {\n          this.joinForm.reset();\n        });\n      }\n    }\n    static {\n      this.ɵfac = function SocialComponent_Factory(t) {\n        return new (t || SocialComponent)(i0.ɵɵdirectiveInject(i1.SocialService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SocialComponent,\n        selectors: [[\"app-social\"]],\n        decls: 42,\n        vars: 9,\n        consts: [[1, \"min-h-screen\", \"bg-gray-50\"], [1, \"max-w-6xl\", \"mx-auto\", \"px-4\", \"py-8\"], [1, \"text-center\", \"mb-8\"], [1, \"text-4xl\", \"font-bold\", \"text-gray-900\", \"mb-2\"], [1, \"text-gray-600\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-2\", \"gap-8\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-sm\", \"p-6\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\", \"mb-4\"], [1, \"mb-6\", 3, \"formGroup\", \"ngSubmit\"], [1, \"flex\", \"space-x-2\"], [\"formControlName\", \"username\", \"placeholder\", \"Enter username\", 1, \"flex-1\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\"], [\"type\", \"submit\", 1, \"bg-purple-500\", \"hover:bg-purple-600\", \"text-white\", \"px-4\", \"py-2\", \"rounded-lg\", \"font-medium\", \"transition-colors\", \"disabled:opacity-50\", 3, \"disabled\"], [\"class\", \"mb-6\", 4, \"ngIf\"], [1, \"space-y-3\"], [\"class\", \"flex items-center justify-between p-3 border border-gray-200 rounded-lg\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center py-8\", 4, \"ngIf\"], [1, \"space-y-4\", \"mb-6\"], [1, \"space-y-3\", 3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"name\", \"placeholder\", \"Group name\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\"], [\"formControlName\", \"description\", \"placeholder\", \"Group description\", \"rows\", \"2\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\"], [\"type\", \"submit\", 1, \"w-full\", \"bg-green-500\", \"hover:bg-green-600\", \"text-white\", \"py-2\", \"rounded-lg\", \"font-medium\", \"transition-colors\", \"disabled:opacity-50\", 3, \"disabled\"], [1, \"border-t\", \"pt-4\"], [1, \"flex\", \"space-x-2\", 3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"inviteCode\", \"placeholder\", \"Enter invite code\", 1, \"flex-1\", \"px-3\", \"py-2\", \"border\", \"border-gray-300\", \"rounded-lg\", \"focus:ring-2\", \"focus:ring-purple-500\", \"focus:border-transparent\"], [\"type\", \"submit\", 1, \"bg-blue-500\", \"hover:bg-blue-600\", \"text-white\", \"px-4\", \"py-2\", \"rounded-lg\", \"font-medium\", \"transition-colors\", \"disabled:opacity-50\", 3, \"disabled\"], [1, \"text-center\", \"py-8\"], [1, \"text-4xl\", \"mb-2\"], [1, \"text-gray-500\"], [1, \"text-center\", \"mt-8\"], [\"routerLink\", \"/dashboard\", 1, \"inline-flex\", \"items-center\", \"px-6\", \"py-3\", \"bg-purple-500\", \"hover:bg-purple-600\", \"text-white\", \"rounded-lg\", \"font-semibold\", \"transition-colors\"], [1, \"mb-6\"], [1, \"font-semibold\", \"text-gray-900\", \"mb-3\"], [1, \"space-y-2\"], [\"class\", \"flex items-center justify-between p-3 bg-blue-50 rounded-lg\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-3\", \"bg-blue-50\", \"rounded-lg\"], [1, \"font-medium\"], [1, \"bg-green-500\", \"hover:bg-green-600\", \"text-white\", \"px-3\", \"py-1\", \"rounded\", \"text-sm\", \"transition-colors\", 3, \"click\"], [1, \"bg-red-500\", \"hover:bg-red-600\", \"text-white\", \"px-3\", \"py-1\", \"rounded\", \"text-sm\", \"transition-colors\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-3\", \"border\", \"border-gray-200\", \"rounded-lg\"], [1, \"flex\", \"items-center\", \"space-x-3\"], [1, \"w-10\", \"h-10\", \"bg-purple-500\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"text-white\", \"font-bold\"], [1, \"font-semibold\", \"text-gray-900\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"text-2xl\"]],\n        template: function SocialComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n            i0.ɵɵtext(4, \"\\uD83D\\uDC65 Social Hub\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 4);\n            i0.ɵɵtext(6, \"Connect with friends and join habit groups!\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"h2\", 7);\n            i0.ɵɵtext(10, \"Friends\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"form\", 8);\n            i0.ɵɵlistener(\"ngSubmit\", function SocialComponent_Template_form_ngSubmit_11_listener() {\n              return ctx.sendFriendRequest();\n            });\n            i0.ɵɵelementStart(12, \"div\", 9);\n            i0.ɵɵelement(13, \"input\", 10);\n            i0.ɵɵelementStart(14, \"button\", 11);\n            i0.ɵɵtext(15, \" Add Friend \");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(16, SocialComponent_div_16_Template, 5, 1, \"div\", 12);\n            i0.ɵɵelementStart(17, \"div\", 13);\n            i0.ɵɵtemplate(18, SocialComponent_div_18_Template, 11, 4, \"div\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(19, SocialComponent_div_19_Template, 5, 0, \"div\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"div\", 6)(21, \"h2\", 7);\n            i0.ɵɵtext(22, \"Habit Groups\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"div\", 16)(24, \"form\", 17);\n            i0.ɵɵlistener(\"ngSubmit\", function SocialComponent_Template_form_ngSubmit_24_listener() {\n              return ctx.createGroup();\n            });\n            i0.ɵɵelement(25, \"input\", 18)(26, \"textarea\", 19);\n            i0.ɵɵelementStart(27, \"button\", 20);\n            i0.ɵɵtext(28, \" Create Group \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(29, \"div\", 21)(30, \"form\", 22);\n            i0.ɵɵlistener(\"ngSubmit\", function SocialComponent_Template_form_ngSubmit_30_listener() {\n              return ctx.joinGroup();\n            });\n            i0.ɵɵelement(31, \"input\", 23);\n            i0.ɵɵelementStart(32, \"button\", 24);\n            i0.ɵɵtext(33, \" Join \");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(34, \"div\", 25)(35, \"div\", 26);\n            i0.ɵɵtext(36, \"\\uD83D\\uDC65\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"p\", 27);\n            i0.ɵɵtext(38, \"Create or join groups to collaborate on habits!\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(39, \"div\", 28)(40, \"a\", 29);\n            i0.ɵɵtext(41, \" \\u2190 Back to Dashboard \");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"formGroup\", ctx.friendForm);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"disabled\", ctx.friendForm.invalid);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.pendingRequests.length > 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.friends);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.friends.length === 0);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"formGroup\", ctx.groupForm);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"disabled\", ctx.groupForm.invalid);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.joinForm);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.joinForm.invalid);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i4.RouterLink],\n        encapsulation: 2\n      });\n    }\n  }\n  return SocialComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}